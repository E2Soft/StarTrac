{% extends "tasks/page_template.html" %}
{% block title %}Detail Page{% endblock %}

{% block meta %}
	{% if user.is_authenticated %}
	    	<!-- Trenutno jedini nacin da se strana redirektuje ako korisnik nema pristup.
	    		 Bolji nacin je ako se stavi dekorater @login_required.. u view.py na funkcije koje
	    		 obradjuju zahtev (request); Trenutno ili nema svih funkcija ili ja ne mogu da ih nadjem :)
	    		 Pa iz tog razloga resenje izgleda ovako.
	    		 
	    		 Ako ovde ovo ne stavimo a pogodimo stranicu : http://127.0.0.1:8000/uedit/2/
	    		 dobijemo gresku na serveru : object has no attribute '_meta'
	    	-->
	    	{{ block.super }}
	{% else %}
			<meta http-equiv="REFRESH" content="0;url=http://127.0.0.1:8000/login/">
	{% endif %}
{% endblock %}
{% block content %}
{% if user.is_authenticated %}
<div class="jumbotron">
<h2>{{user}}</h2>

<div class="bs-callout bs-callout-default">
<ul class="list-group">

	{% if user.userextend.picture != '' %}
	
	<li class="list-group-item"><span class="glyphicon glyphicon-align-justify"></span> Profile picture: 
	<br/><br/>&nbsp;
		<img src="{{APP_URL}}../{{user.userextend.picture}}" width="100" height="100" />
	</li>

	{% else %}
	
	<li class="list-group-item"><span class="glyphicon glyphicon-align-justify"></span> Profile picture: 
		<img src="http://127.0.0.1:8000/tasks/static/album/user.jpg" width="100" height="100" />
	</li>
	
	{% endif %}
	
	<li class="list-group-item"><span class="glyphicon glyphicon-align-justify"></span> First name: {{user.first_name}}</li>
	<li class="list-group-item"><span class="glyphicon glyphicon-align-justify"></span> Last name: {{user.last_name}}</li>
	<li class="list-group-item"><span class="glyphicon glyphicon-envelope"></span> E-mail: {{user.email}}</li>
</ul>
</div>
</div>
{% endif %}
{% endblock %}

{% block sidebar_content %}
{% if user.is_authenticated %}	
	<li>
		<b>
			<a href="{% url 'uedit' user.pk %}">
				<span class="glyphicon glyphicon-pencil"></span>
				Edit
			</a>
		</b>
	</li>
{% endif %}
{% endblock %}